<div class="container">
  <h1>Soundtrack of the Day - Archive</h1>
  <div class="overlay"></div>
  <ul class="filter-grid">
    @for (filter of filters; track filter) {
      <li>
        <button (click)="filterDailySoundtracks(filter)" class="filter-button" [ngClass]="{ 'active': filter === currentFilter }">
          <span>{{ filter }}</span>
        </button>
      </li>
    }
  </ul>
  <div class="sort-buttons">
    <button (click)="randomize()" class="filter-button" [ngClass]="{ 'active': isRandomSort }">Randomize</button>
    <button (click)="chronological()" class="filter-button" [ngClass]="{ 'active': !isRandomSort }">Chronological</button>
  </div>
  @for (group of groupedDailySoundtracks; track group.month) {
    @if (!isRandomSort) {
      <h3 class="month-heading">{{ group.month }}</h3>
    }
    <ul>
      @for (track of group.tracks; track track.id) {
        <li class="list-item">
          <div>
            @if (!track.game) {
              <h2 class="h2">{{track.artist}} - {{track.track}}</h2>
            }
            @if (track.game) {
              <h2 class="h2">{{track.album}} - {{track.track}}</h2>
            }
            @if (!track.game) {
              <p class="p"><strong>Album:</strong> {{track.album}}</p>
            }
            @if (track.game) {
              <p class="p"><strong>Composer:</strong> {{track.artist}}</p>
            }
            <p class="p">{{track.description}}</p>
            <div class="player-link-container">
              @if (track.filename) {
                <div class="mini-audio-player">
                  <audio controls [src]="imageService.imageUrl(audioPath + track.filename)">
                    Normally there is an audio player here but mate your browser can't handle it
                  </audio>
                </div>
              }
              <a class="a" [href]="track.link">Listen on YouTube</a>
            </div>
            <app-rating-bar [rating]="{id: track.id, ratings: track.rating}"></app-rating-bar>
          </div>
          <div class="date">
            {{track.day}}
          </div>
        </li>
      }
    </ul>
  }
  <div class="gif">
    <img [src]="imageService.imageUrl('/homepage/daily.gif')">
  </div>
</div>
